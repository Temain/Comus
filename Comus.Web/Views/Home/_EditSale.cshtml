<!-- ko with: editSale -->
<link href="~/Content/table.css" rel="stylesheet">
<link href="~/Content/Site.css" rel="stylesheet" />

<div class="heading">
    <a href="#" class="back-link" data-bind="click: $root.navigateToSale, tooltip: { title: 'Вернуться назад', placement: 'bottom', trigger: 'hover' }"><i class="glyphicon glyphicon-circle-arrow-left"></i></a>
    <h1>Редактирование факта продажи</h1>
</div>
<form class="form-horizontal">
    <div class="form-group">
        <label for="product" class="col-sm-2 control-label">Упаковка</label>
        <div class="col-sm-10">
            <input type="text" id="product" class="form-control" data-bind="typeahead: { api: '/api/Product', data : $data, key: 'productId' }, value: productName" data-provide="typeahead" placeholder="Введите название" autocomplete="off" value="" />
            <input type="hidden" data-bind="value: productId" />
            <div class="text-danger msg-text" style="display: none">
                <span class="glyphicon glyphicon glyphicon-exclamation-sign form-control-feedback"></span>Не найдено
            </div>
        </div>
    </div>
    <div class="form-group">
        <label for="numberOfProducts" class="col-sm-2 control-label">Количество</label>
        <div class="col-sm-10">
            <div class='input-group'>
                <input type='text' id='numberOfProducts' class="form-control" data-bind="numeric : {}, value: numberOfProducts" />
                <span class="input-group-addon">
                    <i class="" aria-hidden="true">шт.</i>
                </span>
            </div>
        </div>
    </div>
    <div class="form-group">
        <label for="client" class="col-sm-2 control-label">Покупатель</label>
        <div class="col-sm-10">
            <select id="client" class="form-control" data-bind="value: clientId, options: clients, optionsText: 'clientFullName', optionsValue: 'clientId', optionsCaption: ''"></select>
        </div>
    </div>
    <div class="form-group">
        <label for="employee" class="col-sm-2 control-label">Продавец</label>
        <div class="col-sm-10">
            <select id="employee" class="form-control" data-bind="value: employeeId, options: employees, optionsText: 'employeeFullName', optionsValue: 'employeeId', optionsCaption: ''"></select>
        </div>
    </div>
    <div class="form-group">
        <label for="totalCost" class="col-sm-2 control-label">Общая стоимость</label>
        <div class="col-sm-10">
            <div class='input-group'>
                <input type='text' id='totalCost' class="form-control" data-bind="numeric : {}, value: totalCost" />
                <span class="input-group-addon">
                    <i class="" aria-hidden="true">руб.</i>
                </span>
            </div>
        </div>
    </div>
    <div class="form-group">
        <label for="saleDate" class="col-sm-2 control-label">Дата продажи</label>
        <div class="col-sm-10">
            <div class='input-group date'>
                <input type='text' id='saleDate' class="form-control" data-bind="datepicker: saleDate, datepickerOptions : { locale: 'ru', format: 'DD.MM.YYYY' }" />
                <span class="input-group-addon">
                    <i class="fa fa-calendar" aria-hidden="true"></i>
                </span>
            </div>
        </div>
    </div>
    <div class="form-group">
        <div class="col-sm-offset-2 col-sm-10">
            <button type="submit" class="btn create-link" data-bind="click: save"><span class="glyphicon glyphicon-floppy-disk" aria-hidden="true"></span> Сохранить</button>
        </div>
    </div>
</form>
<!-- /ko -->
